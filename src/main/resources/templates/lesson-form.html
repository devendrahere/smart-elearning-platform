<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="${lesson.lessonId != null ? 'Edit Lesson' : 'Add Lesson'}">Lesson Form</title>

    <!-- Bootstrap + Fonts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- Your external CSS file -->
    <link rel="stylesheet" th:href="@{/css/lesson-form.css}">
</head>

<body>

<th:block th:replace="~{fragments/header :: header}"></th:block>

<div class="container">

    <!-- Page Header -->
    <div class="page-header">
        <h1 class="page-title" th:text="${lesson.lessonId != null ? 'Edit Lesson' : 'Add New Lesson'}"></h1>
        <p class="page-subtitle">
            Manage lesson details and structure for this course
        </p>
    </div>

    <!-- Form Section -->
    <div class="form-section">

        <form th:action="@{${lesson.lessonId != null} ? '/lesson/edit/' + ${lesson.lessonId} : '/lesson/add/' + ${courseId}}"
              th:object="${lesson}"
              method="post">

            <!-- Lesson Title -->
            <div class="mb-3">
                <label for="lessonTitle" class="form-label">Lesson Title</label>
                <input type="text"
                       id="lessonTitle"
                       th:field="*{lessonTitle}"
                       class="form-control"
                       placeholder="Enter lesson title"
                       required>
            </div>

            <!-- Content URL -->
            <div class="mb-3">
                <label for="contentUrl" class="form-label">Content URL</label>
                <input type="text"
                       id="contentUrl"
                       th:field="*{contentUrl}"
                       class="form-control"
                       placeholder="Paste content URL (video, article, etc.)"
                       required>
            </div>

            <!-- Lesson Order -->
            <div class="mb-3">
                <label for="lessonOrder" class="form-label">Lesson Order</label>
                <input type="number"
                       id="lessonOrder"
                       th:field="*{lessonOrder}"
                       class="form-control"
                       placeholder="1, 2, 3..."
                       min="1"
                       step="1"
                       required
                       oninput="if(this.value < 1) this.value = 1;">
            </div>

            <!-- Buttons -->
            <div class="d-flex justify-content-between mt-4">
                <a th:href="@{'/courses/' + ${courseId} + '/lessons/manage'}" class="btn btn-secondary">
                    ‚Üê Back
                </a>

                <button type="submit"
                        class="btn-primary-custom"
                        th:text="${lesson.lessonId != null ? 'Update Lesson' : 'Add Lesson'}">
                </button>
            </div>
        </form>

    </div>
</div>

<th:block th:replace="~{fragments/footer :: footer}"></th:block>

</body>
</html>