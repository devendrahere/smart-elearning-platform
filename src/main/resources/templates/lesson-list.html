<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title th:text="'Lessons - ' + ${course.courseTitle}">Course Lessons</title>

    <!-- Bootstrap & Fonts -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;500;600;700&display=swap" rel="stylesheet">

    <!-- External CSS -->
    <link rel="stylesheet" th:href="@{/css/lesson-list.css}">
</head>

<body>
<th:block th:replace="~{fragments/header :: header}"></th:block>

<div class="container">

    <!-- Page Header -->
    <div class="page-header">
        <h1 class="page-title">
            <span>ğŸ“˜</span>
            <span th:text="${course.courseTitle}">Course Lessons</span>
        </h1>
        <p class="page-subtitle">Select a lesson to begin learning</p>
    </div>

    <!-- Lessons List -->
    <div th:each="lesson : ${lessons}" class="lesson-card d-flex justify-content-between align-items-center">
        <div>
            <div class="lesson-title" th:text="${lesson.lessonOrder + '. ' + lesson.lessonTitle}">Lesson Title</div>
            <div class="lesson-date" th:text="${#temporals.format(lesson.createdAt, 'dd MMM yyyy')}">Date</div>
        </div>
        <a th:href="@{'/lesson/' + ${lesson.lessonId}}" class="btn-primary-custom">â–¶ Start</a>
    </div>

    <!-- Quiz Section -->
    <div th:if="${quiz != null}" class="quiz-card">
        <div class="quiz-title" th:text="${quiz.quizTitle}">Quiz Title</div>
        <p class="text-muted mb-3" th:text="${quiz.description}">Quiz Description</p>
        <a th:href="@{'/quizzes/' + ${quiz.quizId} + '/start'}" class="btn-primary-custom">ğŸ§  Take Quiz</a>
    </div>

    <!-- No Quiz -->
    <div th:if="${quiz == null}" class="quiz-card">
        <div class="quiz-title">No Quiz Available Yet</div>
        <p class="text-muted">Instructor hasnâ€™t added a quiz for this course.</p>
    </div>

    <!-- Back button -->
    <div class="text-center mt-4">
        <a th:href="@{'/courses/' + ${course.courseId}}" class="btn-outline-custom">â† Back to Course</a>
    </div>

</div>

<th:block th:replace="~{fragments/footer :: footer}"></th:block>

</body>
</html>